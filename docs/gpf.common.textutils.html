
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>gpf.common.textutils module &#8212; gpf3 0.1.dev8+gd123c1c.d20191007 documentation</title>
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="gpf.common.validate module" href="gpf.common.validate.html" />
    <link rel="prev" title="gpf.common.guids module" href="gpf.common.guids.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gpf.common.validate.html" title="gpf.common.validate module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gpf.common.guids.html" title="gpf.common.guids module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">gpf3 0.1.dev8+gd123c1c.d20191007 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="gpf.html" >gpf package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="gpf.common.html" accesskey="U">gpf.common package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-gpf.common.textutils">
<span id="gpf-common-textutils-module"></span><h1>gpf.common.textutils module<a class="headerlink" href="#module-gpf.common.textutils" title="Permalink to this headline">¶</a></h1>
<p>Module that contains helper functions to improve text handling and formatting.</p>
<dl class="function">
<dt id="gpf.common.textutils.get_alphachars">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">get_alphachars</code><span class="sig-paren">(</span><em>text: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#gpf.common.textutils.get_alphachars" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all alphabetic characters [a-zA-Z] in string <em>text</em> in a new (concatenated) string.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_alphachars</span><span class="p">(</span><span class="s1">&#39;Test123&#39;</span><span class="p">)</span>
<span class="go">&#39;Test&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – The string to search.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gpf.common.textutils.get_digits">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">get_digits</code><span class="sig-paren">(</span><em>text: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#gpf.common.textutils.get_digits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all numeric characters (digits) in string <em>text</em> in a new (concatenated) <strong>string</strong>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_digits</span><span class="p">(</span><span class="s1">&#39;Test123&#39;</span><span class="p">)</span>
<span class="go">&#39;123&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">get_digits</span><span class="p">(</span><span class="s1">&#39;The answer is 42&#39;</span><span class="p">))</span>
<span class="go">42</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – The string to search.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gpf.common.textutils.to_str">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">to_str</code><span class="sig-paren">(</span><em>value: Any</em>, <em>encoding: str = 'UTF-8'</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#gpf.common.textutils.to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>This function behaves similar to the built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code> method: it converts any value into a string.
However, if <em>value</em> is a <code class="docutils literal notranslate"><span class="pre">bytes</span></code> object, it will be decoded according to the specified <em>encoding</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> – The value to convert to string.</li>
<li><strong>encoding</strong> – The encoding to use when value is a <code class="docutils literal notranslate"><span class="pre">bytes</span></code> object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, the encoding is UTF-8, unless the user specified something else.
If this function fails to decode the value into <code class="docutils literal notranslate"><span class="pre">str</span></code> using the specified encoding,
the default system encoding is used instead (which often is cp1252).
For this fallback case, the ‘replace’ method is used, which means that it will not
raise an error if it fails. Bytes that fail to decode will be replaced by a question mark.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="gpf.common.textutils.to_bytes">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">to_bytes</code><span class="sig-paren">(</span><em>value: Any</em>, <em>encoding: str = 'UTF-8'</em><span class="sig-paren">)</span> &#x2192; bytes<a class="headerlink" href="#gpf.common.textutils.to_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>This function behaves similar to the built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">bytes()</span></code> method: it converts any value into a <code class="docutils literal notranslate"><span class="pre">bytes</span></code> object.
However, if <em>value</em> is a <code class="docutils literal notranslate"><span class="pre">str</span></code>, it will be decoded according to the specified <em>encoding</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> – The value to convert to bytes.</li>
<li><strong>encoding</strong> – The encoding to use when value is a <code class="docutils literal notranslate"><span class="pre">str</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, the encoding is UTF-8, unless the user specified something else.
If this function fails to encode the value into bytes using the specified encoding,
the default system encoding is used instead (which often is cp1252).
For this fallback case, the ‘replace’ method is used, which means that it will not
raise an error if it fails. Characters that fail to encode will be replaced by a question mark.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Python 3 only!</p>
</div>
</dd></dl>

<dl class="function">
<dt id="gpf.common.textutils.to_repr">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">to_repr</code><span class="sig-paren">(</span><em>value: Any</em>, <em>encoding: str = 'UTF-8'</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#gpf.common.textutils.to_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>This function behaves similar to the built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code> method: it converts any value into its representation.
However, if <em>value</em> is a bytes-like object, it will be decoded using the specified <em>encoding</em> (defaults to UTF-8).
The encoding will use the ‘replace’ method, which means that it will not raise an error if it fails.
This means that the representation of the bytes-like object will not have the ‘b’ prefix anymore.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> – The value for which to get its representation.</li>
<li><strong>encoding</strong> – The encoding to use when value is a <code class="docutils literal notranslate"><span class="pre">bytes</span></code> or <code class="docutils literal notranslate"><span class="pre">bytearray</span></code> object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gpf.common.textutils.capitalize">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">capitalize</code><span class="sig-paren">(</span><em>text: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#gpf.common.textutils.capitalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that works similar to the built-in string method <code class="xref py py-func docutils literal notranslate"><span class="pre">str.capitalize()</span></code>,
except that it only makes the first character uppercase, and leaves the other characters unchanged.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – The string to capitalize.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gpf.common.textutils.unquote">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">unquote</code><span class="sig-paren">(</span><em>text: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#gpf.common.textutils.unquote" title="Permalink to this definition">¶</a></dt>
<dd><p>Strips trailing quotes from a text string and returns it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – The string to strip.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gpf.common.textutils.format_plural">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">format_plural</code><span class="sig-paren">(</span><em>word: str</em>, <em>number: numbers.Number</em>, <em>plural_suffix: str = 's'</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#gpf.common.textutils.format_plural" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that prefixes <cite>word</cite> with <cite>number</cite> and appends <cite>plural_suffix</cite> to it if <cite>number</cite> &lt;&gt; 1.
Note that this only works for words with simple conjugation (where the base word and suffix do not change).
E.g. words like ‘sheep’ or ‘life’ will be falsely pluralized (‘sheeps’ and ‘lifes’ respectively).</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_plural</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> error&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
<span class="go">&#39;42 errors&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_plural</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> bus&#39;</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="s1">&#39;es&#39;</span><span class="p">)</span>
<span class="go">&#39;99 buses&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_plural</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> goal&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;1 goal&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_plural</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> regret&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;0 regrets&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>word</strong> – The word that should be pluralized if <cite>number</cite> &lt;&gt; 1.</li>
<li><strong>number</strong> – The numeric value for which <cite>word</cite> will be prefixed and pluralized.</li>
<li><strong>plural_suffix</strong> – If <cite>word</cite> is a constant and the <cite>plural_suffix</cite> for it cannot be ‘s’, set your own.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gpf.common.textutils.format_iterable">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">format_iterable</code><span class="sig-paren">(</span><em>iterable: Union[list, tuple], conjunction: str = 'and'</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#gpf.common.textutils.format_iterable" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that pretty-prints an iterable, separated by commas and adding a conjunction before the last item.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_iterable</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
<span class="go">&#39;1, 2, 3 and 4&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>iterable</strong> – The iterable (e.g. list or tuple) to format.</li>
<li><strong>conjunction</strong> – The conjunction to use before the last item. Defaults to “and”.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gpf.common.textutils.format_timedelta">
<code class="descclassname">gpf.common.textutils.</code><code class="descname">format_timedelta</code><span class="sig-paren">(</span><em>start: datetime.datetime</em>, <em>stop: datetime.datetime = None</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#gpf.common.textutils.format_timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the time difference between <cite>start</cite> and <cite>stop</cite> datetime objects and returns a pretty-printed time delta.
If <cite>stop</cite> is omitted, the current time (<code class="xref py py-func docutils literal notranslate"><span class="pre">now()</span></code>) will be used.
The smallest time unit that can be expressed is in (floating point) seconds. The largest time unit is in days.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t0</span> <span class="o">=</span> <span class="n">_dt</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># where _dt = datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span>
<span class="go">&#39;1 day, 3 hours, 4 minutes and 5.2342 seconds&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> – The start time (t0) for the time delta calculation.</li>
<li><strong>stop</strong> – The end time (t1) for the time delta calculation or <code class="xref py py-func docutils literal notranslate"><span class="pre">now()</span></code> when omitted.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="gpf.common.guids.html"
                        title="previous chapter">gpf.common.guids module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gpf.common.validate.html"
                        title="next chapter">gpf.common.validate module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/gpf.common.textutils.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gpf.common.validate.html" title="gpf.common.validate module"
             >next</a> |</li>
        <li class="right" >
          <a href="gpf.common.guids.html" title="gpf.common.guids module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">gpf3 0.1.dev8+gd123c1c.d20191007 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="gpf.html" >gpf package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="gpf.common.html" >gpf.common package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Geocom Informatik AG / VertiGIS, Burgdorf, Switzerland.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>